webpackJsonp([16],{0:function(e,t,n){n(339),e.exports=n(499)},7:function(e,t,n){var r;!function(){"use strict";function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e+=" "+n;else if(Array.isArray(n))e+=" "+a.apply(null,n);else if("object"===r)for(var i in n)o.call(n,i)&&n[i]&&(e+=" "+i)}}return e.substr(1)}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=a:(r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}()},10:function(e,t,n){"use strict";var r=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=r(a),i={bindEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on${event}",function(t){n.call(e,t||window.event)})},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on${event}",n)},offset:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(!e)return null;var n=0,r=0;if("getBoundingClientRect"in document.documentElement&&!t){var a=e.getBoundingClientRect(),o=e.ownerDocument,i=o.body,l=o.documentElement,c=l.clientTop||i.clientTop||0,u=l.clientLeft||i.clientLeft||0,s=window.pageYOffset||l.scrollTop||i.scrollTop,d=window.pageXOffset||l.scrollLeft||i.scrollLeft;return{top:a.top+s-c,left:a.left+d-u}}do n+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:n,left:r}},ownerWindow:function(e){var t=e&&e.ownerDocument||document;return t.defaultView||t.parentWindow||window},inViewport:function(e){var t=arguments.length<=1||void 0===arguments[1]?window:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t===window){for(var r=e.offsetTop,a=e.offsetLeft,o=e.offsetWidth,l=e.offsetHeight;e.offsetParent;)e=e.offsetParent,r+=e.offsetTop,a+=e.offsetLeft;return r<window.pageYOffset+window.innerHeight&&a<window.pageXOffset+window.innerWidth&&r+l>window.pageYOffset&&a+o>window.pageXOffset}var c=i.offset(e).top,u=i.scrollTop(t),s=i.offset(t.firstChild).top;return u+s<c+e.offsetHeight&&c-n<u+t.offsetHeight},scrollNode:function l(e){for(var l=e;l!==window&&(l=l.parentNode,!(l&&l.scrollHeight>l.clientHeight)););return l},closet:function(e,t){for(var n=e;n!==window&&(n=n.parentNode,!n||!i.hasClass(n,t)););return n},scrollInView:function(e){function t(){i.unbindEvent(e,"touchstart",u)}var n=arguments.length<=1||void 0===arguments[1]?window:arguments[1],r=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2],a=arguments.length<=3||void 0===arguments[3]?"y":arguments[3],o=i.offset(e).top-i.offset(n.firstChild).top,l=i.offset(e).left-i.offset(n.firstChild).left,c=15,u=function(){t()};i.bindEvent(e,"touchstart",u),setTimeout(function s(){var e=i.scrollTop(n),u=i.scrollLeft(n);"y"===a?o>e&&e+n.offsetHeight!==n.scrollHeight?(e=e+c>=o?o:e+c,i.scrollTop(n,e),setTimeout(s,10)):e>o&&e>=0?(e=o>=e-c?o:e-c,i.scrollTop(n,e),setTimeout(s,10)):(t(),r()):"x"===a&&(l>u&&u+n.offsetWidth!==n.scrollWidth?(u=u+c>=l?l:u+c,i.scrollLeft(n,u),setTimeout(s,10)):u>l&&u>=0?(u=l>=u-c?l:u-c,i.scrollLeft(n,u),setTimeout(s,10)):(t(),r()))},10)},scrollPosition:function(e){var t="CSS1Compat"===document.compatMode,n=void 0!==window.pageYOffset,r=void 0,a=void 0;return e===window?(r=n?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop,a=n?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft):(r=e.scrollTop,a=e.scrollLeft),{scrollLeft:a,scrollTop:r}},scrollTop:function c(e,t){var n=i.scrollPosition(e),c=n.scrollTop,r=n.scrollLeft;return void 0!==t&&(e===window?window.scrollTo(r,t):e.scrollTop=t),c},scrollLeft:function u(e,t){var n=i.scrollPosition(e),r=n.scrollTop,u=n.scrollLeft;return void 0!==t&&(e===window?window.scrollTo(t,r):e.scrollLeft=t),u},smoothScroll:function(){function e(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}function t(){i.unbindEvent(n,"touchstart",m)}var n=arguments.length<=0||void 0===arguments[0]?window:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?"y":arguments[2],l=r.top&&parseInt(r.top,10)||0,c=r.left&&parseInt(r.left,10)||0,u=i.scrollTop(n),s=i.scrollLeft(n),d=u,f=s,p="y"===a?l-u:c-s,h=Math.min(750,Math.min(1500,Math.abs(p)));if(0!==p){var m=function(){t()};i.bindEvent(n,"touchstart",m);var v,E,g,T;(0,o["default"])(function y(){var r=Date.now();v||(v=r),E=Math.min(1,Math.max((r-v)/h,0)),"y"===a?(g=Math.round(u+p*e(E)),0>p&&l>g&&(g=l),p>0&&g>l&&(g=l),d!==g&&i.scrollTop(n,g),d=g,g!==l?(0,o["default"])(y):t()):"x"===a&&(T=Math.round(s+p*e(E)),0>p&&c>T&&(T=c),p>0&&T>c&&(T=c),f!==T&&i.scrollLeft(n,T),f=T,T!==c?(0,o["default"])(y):t())})}},hasClass:function(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},addClass:function(e,t){return e&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){e&&e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))},hasNode:function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},inTouchableRegion:function(e,t,n){var r=i.offset(n),a=r.top,o=r.top+n.offsetHeight,l=r.left,c=r.left+n.offsetWidth,u=e>=l&&c>=e,s=t>=a&&o>=t;return!(!u||!s)},registerPullDownEvent:function(e){var t=this;this.bindEvent(window,"scroll",function(){var n=t.scrollTop(window);document.documentElement.clientHeight+n>=document.documentElement.scrollHeight&&e()})},prefixedStyle:function(e){function t(e){return r===!1?!1:""===r?e:r+e.charAt(0).toUpperCase()+e.substr(1)}var n=document.createElement("div").style,r=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],r=0;r<t.length;r++)if(e=t[r]+"ransform",e in n)return t[r].substr(0,t[r].length-1);return!1}();return t(e)},tap:function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.changedTouches[0].pageX,n.pageY=e.changedTouches[0].pageY,e.target.dispatchEvent(n)},click:function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))},momentum:function(e,t,n,r,a,o){var i,l,c=e-t,u=Math.abs(c)/n;return o=void 0===o?6e-4:o,i=e+u*u/(2*o)*(0>c?-1:1),l=u/o,r>i?(i=a?r-a/2.5*(u/8):r,c=Math.abs(i-e),l=c/u):i>0&&(i=a?a/2.5*(u/8):0,c=Math.abs(e)+i,l=c/u),{destination:Math.round(i),duration:l}}};t["default"]=i,e.exports=t["default"]},11:function(e,t,n){"use strict";var r=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),o=r(a);t["default"]=o["default"],e.exports=t["default"]},13:function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];switch(e){case"index":return""+i.index;case"search":return n=null===n?"":"?"+(0,a.urlParam)(n),""+i.search+n;case"activity":return t=t.join("/"),i.activity+"/"+t+".html";case"topic":return t=t.join("/"),i.topic+"/"+t+".html";case"gooddetail":return""+i.gooddetail+t[0]+".html";case"flashbuy":return t=t.join("/"),i.flashbuy+"/"+t+".html";case"confirmorder":return t=t.join("/"),i.confirmorder+"/"+t+".html";case"orderlist":return i.orderlist+".html";case"orderlist-id":return t=t.join("/"),i.orderlist+"/"+t+".html";case"orderdetail":return t=t.join("/"),i.orderdetail+"/"+t+".html";case"coupon":return t=t.join("/"),i.coupon+"/"+t+".html";case"couponlist":return t=t.join("/"),i.couponlist+".html";case"membercenter":return i.membercenter+".html";case"collect":return i.collect+".html";case"comment":return i.comment+".html";case"showcomment":return""+i.showcomment;case"update":return i.update+".html";case"aboutus":return t=t.join("/"),i.aboutus+".html";case"help":return t=t.join("/"),i.help+".html";default:return i[e]+".html"}}Object.defineProperty(t,"__esModule",{value:!0}),t.jumpURL=r;var a=n(15),o="/shop";t.urlPrefix=o;var i={index:o,search:o+"/search/s.html",activity:o+"/activity",topic:o+"/topic",flashbuy:o+"/flashbuy",polymer:o+"/polymer",gooddetail:o+"/sp-",trendy:o+"/trendy",cart:o+"/cart",logingateway:o+"/logingateway",logoutgateway:o+"/logoutgateway",orderlist:o+"/orderlist",orderdetail:o+"/orderdetail",confirmorder:o+"/confirmorder",coupondetail:o+"/coupon",couponlist:o+"/coupon",receiver:o+"/receiver",updatebasic:o+"/updatebasic",membercenter:o+"/membercenter",collect:o+"/collect",comment:o+"/comment",showcomment:o+"/showcomment",update:o+"/update",aboutus:o+"/aboutus",help:o+"/help"}},14:function(e,t,n){"use strict";var r=n(8)["default"];t["default"]=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0},15:function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{method:"GET",type:"json"}:arguments[2];return n=o({},n,{url:e,data:t}),"POST"===n.method,(0,c["default"])(n)}function a(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}var o=n(8)["default"],i=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0}),t.apiRequest=r,t.urlParam=a;var l=n(40),c=i(l)},16:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(19)["default"],c=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),s=c(u),d=n(7),f=c(d),p=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"render",value:function(){var e=this.props.icon,t=(0,f["default"])(this.props.className,l({iconfont:!0},"icon-"+e,!0));return s["default"].createElement("span",{className:t})}}]),t}(u.Component);t["default"]=p,e.exports=t["default"]},17:function(e,t){"use strict";var n=null;"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}),e.exports=n},18:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="CHANGE_FIELD";t.CHANGE_FIELD=n;var r="SHOW_ALERT";t.SHOW_ALERT=r;var a="HIDE_ALERT";t.HIDE_ALERT=a;var o="SHOW_ACTIVITYINDICATOR";t.SHOW_ACTIVITYINDICATOR=o;var i="HIDE_ACTIVITYINDICATOR";t.HIDE_ACTIVITYINDICATOR=i;var l="CHANGE_SCENE";t.CHANGE_SCENE=l;var c="REQUEST_HOTWORD";t.REQUEST_HOTWORD=c;var u="RESPONSE_HOTWORD";t.RESPONSE_HOTWORD=u;var s="REQUEST_ASSOICATEWORD";t.REQUEST_ASSOICATEWORD=s;var d="RESPONSE_ASSOICATEWORD";t.RESPONSE_ASSOICATEWORD=d;var f="REQUEST_SEARCHHISTORY";t.REQUEST_SEARCHHISTORY=f;var p="RESPONSE_SEARCHHISTORY";t.RESPONSE_SEARCHHISTORY=p;var h="START_PURGE_SEARCHHISTORY";t.START_PURGE_SEARCHHISTORY=h;var m="FINISH_PURGE_SEARCHHISTORY";t.FINISH_PURGE_SEARCHHISTORY=m;var v="REQUEST_CARTCOUNT";t.REQUEST_CARTCOUNT=v;var E="RESPONSE_CARTCOUNT";t.RESPONSE_CARTCOUNT=E},19:function(e,t,n){"use strict";var r=n(59)["default"];t["default"]=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.__esModule=!0},20:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"renderBackButton",value:function(){var e=this.props,t=e.canBack,n=e.onGoBack;return t===!0?u["default"].createElement("a",{href:"javascript:;",onClick:n,className:"iconfont icon-back"}):null}},{key:"render",value:function(){return u["default"].createElement("header",{className:"header"},this.renderBackButton(),this.props.children)}}]),t}(c.Component);s.defaultProps={canBack:!0,onGoBack:function(e){e.preventDefault(),window.history.back()}},t["default"]=s,e.exports=t["default"]},26:function(e,t){e.exports={base64:{settings:{char62:"+",char63:"/",pad:"=",ascii:!1},encode:function(e){this.char_set="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"+this.settings.char62+this.settings.char63;for(var t="",n="",r=0;r<e.length;++r){var a=e.charCodeAt(r);if(this.settings.ascii&&a>=256)throw"Not an 8-bit char.";for(var o=a.toString(2);o.length<(this.settings.ascii?8:16);)o="0"+o;for(n+=o;n.length>=6;){var i=n.slice(0,6);n=n.slice(6),t+=this.char_set.charAt(parseInt(i,2))}}if(n){for(;n.length<6;)n+="0";t+=this.char_set.charAt(parseInt(n,2))}if(this.settings.pad)for(;t.length%(this.settings.ascii?4:8)!=0;)t+=this.settings.pad;return t},decode:function(e){this.char_set="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"+this.settings.char62+this.settings.char63;for(var t="",n="",r=this.settings.ascii?8:16,a=0;a<e.length&&e[a]!=this.settings.pad;++a){var o=this.char_set.indexOf(e.charAt(a));if(-1==o)throw"Not base64.";for(var i=o.toString(2);i.length<6;)i="0"+i;for(n+=i;n.length>=r;){var l=n.slice(0,r);n=n.slice(r),t+=String.fromCharCode(parseInt(l,2))}}return t}}}},27:function(e,t,n){"use strict";function r(e,t){var n=function(n){function r(){l(this,r),a(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return o(r,n),i(r,[{key:"render",value:function(){return f["default"].createElement(e,c({},this.props,(0,s.bindActionCreators)(t,this.props.dispatch)))}}]),r}(d.Component);return n}var a=n(5)["default"],o=n(6)["default"],i=n(4)["default"],l=n(3)["default"],c=n(14)["default"],u=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0}),t.wrapComponentWithActions=r;var s=n(24),d=n(2),f=u(d),p=n(29),h=u(p),m=n(28),v=u(m),E=(0,v["default"])(),g=(0,s.compose)((0,s.applyMiddleware)(h["default"],E),"object"==typeof window&&"undefined"!=typeof window.devToolsExtension?window.devToolsExtension():function(e){return e})(s.createStore);t["default"]=g},28:function(e,t){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){var n=t.getState;return function(t){return function(r){var i=e.level,l=e.logger,c=e.collapsed,u=e.predicate,s=e.duration,d=void 0===s?!1:s,f=e.timestamp,p=void 0===f?!0:f,h=e.transformer,m=void 0===h?function(e){return e}:h,v=e.actionTransformer,E=void 0===v?function(e){return e}:v,g=l||window.console;if("undefined"==typeof g)return t(r);if("function"==typeof u&&!u(n,r))return t(r);var T=o.now(),y=m(n()),C=t(r),_=o.now()-T,R=m(n()),A=new Date,S="function"==typeof c?c(n,r):c,I=p?" @ "+a(A.getHours(),2)+":"+a(A.getMinutes(),2)+":"+a(A.getSeconds(),2)+"."+a(A.getMilliseconds(),3):"",O=d?" in "+_.toFixed(2)+" ms":"",b=E(r),w="action "+b.type+I+O,N=S?g.groupCollapsed:g.group;try{N.call(g,w)}catch(P){g.log(w)}i?(g[i]("%c prev state","color: #9E9E9E; font-weight: bold",y),g[i]("%c action","color: #03A9F4; font-weight: bold",b),g[i]("%c next state","color: #4CAF50; font-weight: bold",R)):(g.log("%c prev state","color: #9E9E9E; font-weight: bold",y),g.log("%c action","color: #03A9F4; font-weight: bold",b),g.log("%c next state","color: #4CAF50; font-weight: bold",R));try{g.groupEnd()}catch(P){g.log("—— log end ——")}return C}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return new Array(t+1).join(e)},a=function(e,t){return r("0",t-e.toString().length)+e},o="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;t["default"]=n,e.exports=t["default"]},29:function(e,t){"use strict";function n(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"==typeof r?r(t,n):e(r)}}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},31:function(e,t,n){"use strict";function r(e){if(0==e)return"0.00";if(h["default"].isNumber(e)===!1){if(h["default"].isString(e)&&/^(\d+)(\.)?(\d)*$/.test(e)===!1)return"0.00";if(e=parseFloat(e),h["default"].isNaN(e))return"0.00"}e=Math.floor(1e3*e/10),e=parseInt(e);var t=""+e;return 100>e&&e>=10?t="0"+e:10>e&&(t="00"+e),t=t.replace(/(\d\d)$/,".$1")}function a(e){return f.base64.encode(e)}function o(e){return f.base64.decode(e)}function i(e){var t=f.base64.encode(e);return t.replace(/=/g,"_").replace(/\//g,",").replace(/\+/g,"-")}function l(e){return e=e.replace(/_/g,"=").replace(/,/g,"/").replace(/-/g,"+"),f.base64.decode(e)}function c(e){return e=h["default"].words(e,/\w{1}/g),e=h["default"].map(e,function(e,t){return t>5&&14>t&&(e="*"),e}),e.join("")}function u(e){return e.flashbuy&&e.flashbuy.active?{destPrice:e.flashbuy.price,discount:e.discount}:{destPrice:e.mobilePrice,discount:e.discount}}function s(e){function t(){var a=Date.now(),o=a-r;return o>=n?void e():void(0,v["default"])(t)}var n=arguments.length<=1||void 0===arguments[1]?800:arguments[1],r=Date.now();t()}var d=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0}),t.formatPrice=r,t.base64Encode=a,t.base64Decode=o,t.base64EncodeForURL=i,t.base64DecodeForURL=l,t.formateIDCard=c,t.destPriceForGoods=u,t.delayCall=s;var f=n(26),p=n(11),h=d(p),m=n(17),v=d(m)},32:function(e,t,n){"use strict";function r(e,t){return{type:S.CHANGE_FIELD,name:e,value:t}}function a(e){return{type:S.SHOW_ALERT,content:e}}function o(e){return{type:S.HIDE_ALERT,content:e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?3e3:arguments[1];return function(n){n(a(e)),setTimeout(function(){n(o(e))},t)}}function l(e){return{type:S.SHOW_ACTIVITYINDICATOR,content:e}}function c(e){return{type:S.HIDE_ACTIVITYINDICATOR,content:e}}function u(e){return{type:S.CHANGE_SCENE,param:e}}function s(e){return{type:S.REQUEST_ASSOICATEWORD,param:e}}function d(e,t){return{type:S.RESPONSE_ASSOICATEWORD,param:e,res:t}}function f(e){return function(t){t(s(e)),(0,I.apiRequest)(O.urlPrefix+"/searchassociate",e,{method:"POST"}).then(function(n){t(d(e,n))})}}function p(e){return{type:S.REQUEST_HOTWORD,param:e}}function h(e,t){return{type:S.RESPONSE_HOTWORD,param:e,res:t}}function m(e){return function(t){t(p(e)),(0,I.apiRequest)(O.urlPrefix+"/searchhotwords",e).then(function(n){t(h(e,n))})}}function v(e){return{type:S.REQUEST_SEARCHHISTORY,param:e}}function E(e,t){return{type:S.RESPONSE_SEARCHHISTORY,param:e,res:t}}function g(e){return function(t){t(v(e)),(0,I.apiRequest)(O.urlPrefix+"/searchhistory",e).then(function(n){t(E(e,n))})}}function T(e){return{type:S.START_PURGE_SEARCHHISTORY,param:e}}function y(e,t){return{type:S.FINISH_PURGE_SEARCHHISTORY,param:e,res:t}}function C(e){return function(t){t(T(e)),(0,I.apiRequest)(O.urlPrefix+"/purgesearchhistory",e).then(function(n){t(y(e,n))})}}function _(){return{type:S.REQUEST_CARTCOUNT}}function R(e){return{type:S.RESPONSE_CARTCOUNT,res:e}}function A(){return function(e){return e(_()),(0,I.apiRequest)(O.urlPrefix+"/cartcount").then(function(t){e(R(t))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeField=r,t.alert=i,t.showActivityIndicator=l,t.hideActivityIndicator=c,t.changeScene=u,t.fetchAssociateKeywords=f,t.fetchHotWord=m,t.fetchSearchHistory=g,t.purgeSearchHistory=C,t.fetchCartCount=A;var S=n(18),I=n(15),O=n(13)},34:function(e,t){(function(t){"use strict";var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,r=0;t.requestAnimationFrame=n||function(e){var n=Date.now(),a=Math.max(0,16-(n-r));return r=n+a,t.setTimeout(function(){e(Date.now())},a)},"undefined"!=typeof window&&window.requestAnimationFrame.call(window,function(){}),e.exports=requestAnimationFrame}).call(t,function(){return this}())},35:function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},38:function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case s.SHOW_ALERT:return u({},e,{alertActive:!0,alertContent:t.content});case s.HIDE_ALERT:return u({},e,{alertActive:!1,alertContent:t.content});default:return e}}function a(e,t){switch(void 0===e&&(e={}),t.type){case s.SHOW_ACTIVITYINDICATOR:return u({},e,{activityIndicatorContent:t.content,activityIndicatorActive:!0});case s.HIDE_ACTIVITYINDICATOR:return u({},e,{activityIndicatorActive:!1,activityIndicatorContent:t.content})}}function o(e,t){switch(void 0===e&&(e={}),t.type){case CHANGE_SCENE:var n=e.currentScene||null,r=t.scene;return u({},e,{prevScene:n,currentScene:r});default:return e}}function i(e,t){void 0===e&&(e={});var n=null;switch(t.type){case s.CHANGE_FIELD:var r=t.name,a=t.value;return u({},e,c({},r,a));case s.REQUEST_HOTWORD:return u({},e,{hotwordFetched:!1,hotwordFetching:!0});case s.RESPONSE_HOTWORD:var o=t.res.result,i=t.res.hotwordFetched;return u({},e,{hotwords:o,hotwordFetched:i,hotwordFetching:!1});case s.REQUEST_SEARCHHISTORY:return u({},e,{historyFetched:!1,historyFetching:!0});case s.RESPONSE_SEARCHHISTORY:n=t.res.result;var l=t.res.isFetched;return u({},e,{history:n,historyFetched:l,historyFetching:!1});case s.START_PURGE_SEARCHHISTORY:return u({},e,{historyPurged:!1,historyPurging:!0});case s.FINISH_PURGE_SEARCHHISTORY:return n=e.history,t.res.isFinished&&(n=[]),u({},e,{history:n,historyPurged:t.res.isFinished,historyPurging:!1});case s.REQUEST_ASSOICATEWORD:return u({},e,{associateWordFetched:!1,associateWordFetching:!0});case s.RESPONSE_ASSOICATEWORD:var d=t.res.result,f=t.res.associateWordFetched;return u({},e,{associateWords:d,associateWordFetched:f,associateWordFetching:!1});default:return e}}function l(e,t){switch(void 0===e&&(e={}),t.type){case s.REQUEST_CARTCOUNT:return u({},e,{isFetching:!0,isFetched:!1});case s.RESPONSE_CARTCOUNT:var n=t.res.result;return u({},e,{cartCount:n,isFetching:!1,isFetched:t.res.isFetched});default:return e}}var c=n(19)["default"],u=n(8)["default"];Object.defineProperty(t,"__esModule",{value:!0}),t.alertReducer=r,t.activityIndicatorReducer=a,t.sceneReducer=o,t.search=i,t.cart=l;var s=n(18)},39:function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var o,i,l=n(e),c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var u in o)r.call(o,u)&&(l[u]=o[u]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(o);for(var s=0;s<i.length;s++)a.call(o,i[s])&&(l[i[s]]=o[i[s]])}}return l}},46:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=n(7),d=l(s),f=n(10),p=(l(f),function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"render",value:function(){var e=(0,d["default"])("alert-layer",{active:this.props.active});return u["default"].createElement("div",{className:e},u["default"].createElement("div",{className:"alert"},this.props.children))}}]),t}(c.Component));p.defaultProps={autoHide:!0,delay:3e3},t["default"]=p,e.exports=t["default"]},60:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=n(7),d=l(s),f=n(16),p=l(f),h=function(e){function t(e){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),o(t,[{key:"handleConfirm",value:function(e){e&&e.preventDefault(),this.props.onConfrim()}},{key:"handleCancel",value:function(e){e&&e.preventDefault(),this.props.onCancel()}},{key:"renderTitle",value:function(){return u["default"].createElement("div",{className:"dialog-title"},u["default"].createElement(p["default"],{icon:"warn"}),this.props.title)}},{key:"renderButtons",value:function(){var e=this.props.onlyConfirm;return u["default"].createElement("div",{className:"dialog-btns"},e?null:u["default"].createElement("button",{onClick:this.handleCancel.bind(this)},this.props.cancelText),u["default"].createElement("button",{onClick:this.handleConfirm.bind(this)},this.props.confirmText))}},{key:"render",value:function(){var e=(0,d["default"])("dialog-container",{active:this.props.active});return u["default"].createElement("div",{className:e},u["default"].createElement("div",{className:"dialog"},this.renderTitle(),u["default"].createElement("div",{className:"dialog-content"},this.props.children),this.renderButtons()))}}]),t}(c.Component);h.defaultProps={active:!1,title:"提示",confirmText:"确定",cancelText:"取消",onlyConfirm:!1,onConfrim:function(){},onCancel:function(){}},t["default"]=h,e.exports=t["default"]},81:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"render",value:function(){var e=this.props.handleClick,t={display:this.props.visible===!0?"block":"none"};return u["default"].createElement("div",{className:"mask-layer",style:t,onClick:e})}}]),t}(c.Component);t["default"]=s,e.exports=t["default"]},84:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=n(7),d=l(s),f=function(e){function t(e){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return a(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.opacity,r=(0,d["default"])("activity-indicator",{active:t}),a={background:"rgba(0,0,0,"+n+")"};return u["default"].createElement("div",{className:r},u["default"].createElement("div",{className:"mask-layer",style:a},u["default"].createElement("div",{className:"spinner"},u["default"].createElement("i",{className:"iconfont icon-loading"}),u["default"].createElement("p",null,this.props.content))))}}]),t}(c.Component);f.defaultProps={active:!1,opacity:.5,content:"加载中..."},t["default"]=f,e.exports=t["default"]},85:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=n(7),d=(l(s),n(13)),f=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"formatCount",value:function(e){if(e>0){var t=e>99?"99+":e;return u["default"].createElement("em",null,t)}return null}},{key:"render",value:function(){var e=this.props,t=e.activeIndex,n=e.buyed,r=this.formatCount(n);return u["default"].createElement("footer",{className:"bottom-nav"},u["default"].createElement("ul",{className:"clearfix"},u["default"].createElement("li",null,u["default"].createElement("a",{href:"/",className:"0"===t?"nav-hover":null},u["default"].createElement("i",null),"海外购")),u["default"].createElement("li",null,u["default"].createElement("a",{href:(0,d.jumpURL)("polymer"),className:"1"===t?"nav-hover":null},u["default"].createElement("i",null),"分类")),u["default"].createElement("li",null,u["default"].createElement("a",{href:"/explosion/explosion.html",className:"2"===t?"nav-hover":null},u["default"].createElement("i",null),"爆款")),u["default"].createElement("li",null,u["default"].createElement("a",{href:(0,d.jumpURL)("cart"),className:"3"===t?"nav-hover":null},u["default"].createElement("i",null),r,"购物车")),u["default"].createElement("li",null,u["default"].createElement("a",{href:(0,d.jumpURL)("membercenter"),className:"4"===t?"nav-hover":null},u["default"].createElement("i",null),"个人中心"))))}}]),t}(c.Component);f.defaultProps={activeIndex:0,buyed:0},t["default"]=f,e.exports=t["default"]},129:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(134)["default"],c=n(133)["default"],u=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),d=u(s),f=n(7),p=u(f),h=n(16),m=u(h),v=function(e){function t(e){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={value:this.props.value}}return a(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:e.value})}},{key:"handleIncrease",value:function(e){e&&e.preventDefault();var t=this.state.value,n=this.props,r=n.maximum,a=n.step,o=n.onChange,i=n.onOverflow;return t+=a,null!==r&&t>r?void i(t):void this.setState({value:t},function(){o(t)})}},{key:"handleDecrease",value:function(e){e&&e.preventDefault();var t=this.state.value,n=this.props,r=n.minimum,a=n.step,o=n.onChange,i=n.onUnderflow;return t-=a,null!==r&&r>t?void i(t):void this.setState({value:t},function(){o(t)})}},{key:"handleChange",value:function(e){var t=this;e&&e.preventDefault();var n=e.target.value;n=parseInt(n),l(n)||c(n)||this.setState({value:n},function(){return t.props.onChange(n)})}},{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.type,r=e.minimum,a=e.maximum,o=(0,p["default"])("number-picker",{"is-minimum":this.state.value===r,"is-maximum":this.state.value===a});return d["default"].createElement("div",{className:o},d["default"].createElement("div",{onClick:this.handleDecrease.bind(this)},d["default"].createElement(m["default"],{icon:"minus"})),d["default"].createElement("input",{type:n,readOnly:t,onChange:this.handleChange.bind(this),value:this.state.value}),d["default"].createElement("div",{onClick:this.handleIncrease.bind(this)},d["default"].createElement(m["default"],{icon:"plus"})))}}]),t}(s.Component);v.defaultProps={value:0,type:"text",readonly:!0,minimum:0,maximum:null,step:1,onOverflow:function(){},onUnderflow:function(){},onChange:function(){}},t["default"]=v,e.exports=t["default"]},133:function(e,t,n){e.exports={"default":n(137),__esModule:!0}},134:function(e,t,n){e.exports={"default":n(138),__esModule:!0}},137:function(e,t,n){n(157),e.exports=n(71).Number.isFinite},138:function(e,t,n){n(158),e.exports=n(71).Number.isNaN},157:function(e,t,n){var r=n(74),a=n(89).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},158:function(e,t,n){var r=n(74);r(r.S,"Number",{isNaN:function(e){return e!=e}})},182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="START_UPDATE_CART";t.START_UPDATE_CART=n;var r="FINISH_UPDATE_CART";t.FINISH_UPDATE_CART=r;var a="START_DELETE_CART";t.START_DELETE_CART=a;var o="FINISH_DELETE_CART";t.FINISH_DELETE_CART=o;var i="START_TOGGLE_ITEM";t.START_TOGGLE_ITEM=i;var l="FINISH_TOGGLE_ITEM";t.FINISH_TOGGLE_ITEM=l;var c="START_TOGGLE_ALL";t.START_TOGGLE_ALL=c;var u="FINISH_TOGGLE_ALL";t.FINISH_TOGGLE_ALL=u;var s="START_CART_BUYED";t.START_CART_BUYED=s;var d="FINISH_CART_BUYED";t.FINISH_CART_BUYED=d;var f="START_CHECK_CART";t.START_CHECK_CART=f;var p="FINISH_CHECK_CART";t.FINISH_CHECK_CART=p;var h="START_FETCH_CART";t.START_FETCH_CART=h;var m="FINISH_FETCH_CART";t.FINISH_FETCH_CART=m;var v="START_RELOAD_CART";t.START_RELOAD_CART=v;var E="FINISH_RELOAD_CART";t.FINISH_RELOAD_CART=E},339:function(e,t,n){"use strict";function r(){var e=JSON.parse(document.getElementById("initial-state").textContent);d["default"].render(u["default"].createElement(l["default"],{initialState:e}),document.getElementById("cart"))}var a=n(8)["default"],o=n(1)["default"],i=n(365),l=o(i),c=n(2),u=o(c),s=n(9),d=o(s);Object.assign=a||n(39),window.addEventListener("DOMContentLoaded",r)},364:function(e,t,n){"use strict";function r(e){var t="";switch(e){case-402104:t="商品不存在";break;case-402105:t="商品已下架";break;case-402106:t="商品库存不足";break;case-402107:t="商品购买数量已超出商品限购数";break;case-402109:
t="商品购买数量低于起购数";break;case-402110:t="购买商品总额超出每日购买限额";break;case-402111:t="商品超出免税额度";break;case-402112:t="商品已售完";break;default:t="超出购买限制"}return t}function a(e){return{type:I.START_FETCH_CART,param:e}}function o(e,t){return{type:I.FINISH_FETCH_CART,param:e,res:t}}function i(e){return{type:I.START_UPDATE_CART,param:e}}function l(e,t){return{type:I.FINISH_UPDATE_CART,param:e,res:t}}function c(e){return{type:I.START_TOGGLE_ITEM,param:e}}function u(e){return{type:I.FINISH_TOGGLE_ITEM,param:e}}function s(e){return{type:I.START_TOGGLE_ALL,param:e}}function d(e){return{type:I.FINISH_TOGGLE_ALL,param:e}}function f(e){return{type:I.START_DELETE_CART,param:e}}function p(e,t){return{type:I.FINISH_DELETE_CART,param:e,res:t}}function h(e){return{type:I.START_CHECK_CART,param:e}}function m(e,t){return{type:I.FINISH_CHECK_CART,param:e,res:t}}function v(){return{type:I.START_RELOAD_CART}}function E(e){return{type:I.FINISH_RELOAD_CART,res:e}}function g(e){return function(t){t(i(e)),(0,S.apiRequest)(b.urlPrefix+"/updatecart",e,{method:"POST"}).then(function(n){t(l(e,n))})}}function T(e){return function(t){t(f(e)),(0,S.apiRequest)(b.urlPrefix+"/deletecart",e,{method:"POST"}).then(function(n){t(p(e,n))})}}function y(e){return function(t){t(c(e)),setTimeout(function(){t(u(e))},50)}}function C(e){return function(t){t(s(e)),setTimeout(function(){t(d(e))},50)}}function _(e){return function(t){t(h(e)),(0,S.apiRequest)(b.urlPrefix+"/checkcart",e,{method:"POST"}).then(function(n){if(0!==n.returnCode&&-402111!==n.returnCode){var a=r(n.returnCode);t((0,O.alert)(a,3e3))}t(m(e,n))})}}function R(e){return function(t){t(a(e)),(0,S.apiRequest)(b.urlPrefix+"/fetchcart",e,{method:"POST"}).then(function(n){t(o(e,n))})}}function A(){return function(e){e(v()),(0,S.apiRequest)(b.urlPrefix+"/reloadcart",{},{method:"POST"}).then(function(t){e(E(t))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateCart=g,t.deleteCart=T,t.toggleCartItem=y,t.toggleCartAll=C,t.checkCartInfo=_,t.fetchCart=R,t.reloadCart=A;var S=n(15),I=n(182),O=n(32),b=n(13);Object.defineProperty(t,"alert",{enumerable:!0,get:function(){return O.alert}})},365:function(e,t,n){"use strict";function r(e){var t=(0,v["default"])(h["default"],e);return t}var a=n(5)["default"],o=n(6)["default"],i=n(4)["default"],l=n(3)["default"],c=n(1)["default"],u=n(35)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),d=c(s),f=n(49),p=n(367),h=c(p),m=n(27),v=c(m),E=n(366),g=c(E),T=n(364),y=u(T),C=(0,f.connect)(function(e){return e})((0,m.wrapComponentWithActions)(g["default"],y)),_=function(e){function t(){l(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.initialState,t=e.carts,n=e.loginUrl,a=e.isLogined,o=e.isFetched,i={cartByUser:{isFetching:!1,isFetched:o,carts:t,isLogined:a,loginUrl:n}},l=r(i);return d["default"].createElement(f.Provider,{store:l},d["default"].createElement(C,null))}}]),t}(s.Component);t["default"]=_,e.exports=t["default"]},366:function(e,t,n){"use strict";var r=n(5)["default"],a=n(6)["default"],o=n(4)["default"],i=n(3)["default"],l=n(1)["default"];Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),u=l(c),s=n(9),d=(l(s),n(7)),f=l(d),p=n(20),h=l(p),m=n(85),v=l(m),E=n(81),g=(l(E),n(129)),T=l(g),y=n(46),C=l(y),_=n(60),R=l(_),A=n(84),S=l(A),I=n(31),O=n(15),b=n(13),w=function(e){function t(e){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={dialogActive:!1,dialogMesg:null,dialogOnConfirm:null,dialogOnCancel:null,cancelText:"否",confirmText:"是"},this.buyedStack=[]}return a(t,e),o(t,[{key:"filterParamItems",value:function(e){if(!e)return{};var t=[],n=[];return e.group.forEach(function(e){e.list.forEach(function(e){e.checked&&(t.push(e.singleCode),n.push(e.buyed))})}),{singleCodes:t.join(","),buyeds:n.join(",")}}},{key:"componentDidUpdate",value:function(){if(this.state.dialogActive)return!1;var e=this.props.cartByUser,t=e.isUpdated,n=e.isToggled,r=e.isAllToggled,a=e.isDeleted,o=e.isPassed,i=e.isChecked,l=e.carts,c=e.cartIndex,u=e.groupIndex,s=e.goodsIndex,d=e.singleCode,f=this.filterParamItems(l[c]),p=f.singleCodes,h=f.buyeds;if(t||n||r||a)return void this.props.fetchCart({singleCodes:p,buyeds:h,cartIndex:c,groupIndex:u,goodsIndex:s,singleCode:d});if(i)if(o){var m=(0,I.base64Encode)((0,O.urlParam)({itemIds:p,buyeds:h}));window.location.assign((0,b.jumpURL)("confirmorder",[m]))}else this.props.reloadCart()}},{key:"componentDidMount",value:function(){document.getElementById("persisted").value&&this.props.reloadCart()}},{key:"checkout",value:function(e){var t=this.props.cartByUser,n=t.isChecking,r=t.isLogined,a=t.loginUrl,o=t.carts,i=o[e],l=this.filterParamItems(i),c=l.singleCodes,u=l.buyeds;return n?!1:i.isAllowSubmit===!1?!1:r?(document.getElementById("persisted").value=Math.random(),void this.props.checkCartInfo({singleCodes:c,buyeds:u,cartIndex:e})):(location.href=a,!1)}},{key:"handleChangeBuyed",value:function(e,t,n,r,a){var o=this,i=this.props.cartByUser.isUpdating,l=e.singleCode,c=e.maxBuy,u=this.buyedStack;if(i||a>c||!1===e.onSale||e.stockCount<1)return!1;var s=function(e){o.props.updateCart({singleCode:l,buyed:e,maxBuy:c,cartIndex:t,groupIndex:n,goodsIndex:r})},d=setTimeout(function(){var e=u.shift();0===u.length&&s(e.buyed)},500);u.push({timerId:d,buyed:a})}},{key:"toggleAllChecked",value:function(e){var t=this.props.cartByUser,n=t.isAllToggling,r=t.carts,a=r[e];if(n)return!1;if(a.isDisabled)return!1;var o=!a.checked;this.props.toggleCartAll({cartIndex:e,checked:o})}},{key:"toggleItemChecked",value:function(e,t,n,r){var a=this.props.cartByUser.isToggleing,o=!e.checked;return a||!1===e.onSale||e.stockCount<1?!1:void this.props.toggleCartItem({cartIndex:t,groupIndex:n,goodsIndex:r,checked:o})}},{key:"toggleDialog",value:function(){this.setState({dialogActive:!this.state.dialogActive})}},{key:"handleDeleteCart",value:function(e,t,n,r){var a=this,o=this.props.cartByUser.isDeleting;return o?!1:void this.setState({dialogActive:!0,dialogMesg:"确定要删除吗?",confirmText:"确定",cancelText:"取消",dialogOnCancel:function(){a.toggleDialog()},dialogOnConfirm:function(){a.toggleDialog(),a.props.deleteCart({cartId:e.cartId,singleCode:e.singleCode,checked:e.checked,cartIndex:t,groupIndex:n,goodsIndex:r})}})}},{key:"renderInfo",value:function(e){var t="啊哦，海关规定购买多件的总价（不含税）不能超过￥"+e.buyLimit+"哦，请您分多次购买。",n=null;return e.total>e.buyLimit&&e.buyeds>1&&e.hasRate===!0&&(n=t),null===n?null:u["default"].createElement("div",{className:"cart-tips"},u["default"].createElement("div",{className:"arrow"}),u["default"].createElement("div",{className:"con"},n))}},{key:"renderGoods",value:function(e,t,n,r){var a=(0,I.formatPrice)(e.salePrice),o=e.maxBuy,i=e.minStep,l=e.buyed,c=e.stockFlag===!1||e.onSale===!1,s=(0,f["default"])({"sale-out":e.stockFlag===!1&&e.onSale,"put-off":!e.onSale}),d=(0,f["default"])("group",{invalid:c}),p=(0,f["default"])({"checkbox-on":e.checked===!0,"checkbox-off":e.checked===!1});return u["default"].createElement("div",{className:d,key:"g-"+t+n+r},u["default"].createElement("div",{className:"shanchu",onClick:this.handleDeleteCart.bind(this,e,t,n,r)}),u["default"].createElement("div",{className:"J_moveRight"},u["default"].createElement("div",{className:"checkbox",onClick:this.toggleItemChecked.bind(this,e,t,n,r)},u["default"].createElement("span",{className:p})),u["default"].createElement("div",null,u["default"].createElement("div",{className:"img_wrap"},u["default"].createElement("a",{className:"J_ytag cartlist",href:(0,b.jumpURL)("gooddetail",[e.singleCode])},u["default"].createElement("img",{width:"100%",src:e.imageUrl}),u["default"].createElement("div",{className:s}))),u["default"].createElement("div",{className:"gd_info"},u["default"].createElement("a",{href:(0,b.jumpURL)("gooddetail",[e.singleCode])},u["default"].createElement("p",{className:"name"},u["default"].createElement("b",null,e.title),u["default"].createElement("span",null,"￥"+a))),u["default"].createElement("div",{className:"act_wrap"},u["default"].createElement(T["default"],{value:l,minimum:i,maximum:o,step:e.step,onChange:this.handleChangeBuyed.bind(this,e,t,n,r)}))))))}},{key:"renderGroup",value:function(e,t,n){var r=this,a=[],o=(0,f["default"])("manjian",{hide:!e.promoName});return e.list.map(function(e,o){a.push(r.renderGoods(e,t,n,o))}),u["default"].createElement("div",{className:"J_item",key:"gp-"+t+n},u["default"].createElement("div",{className:o},u["default"].createElement("em",null,e.promoType),e.promoName),a)}},{key:"renderCart",value:function(e,t){var n=this,r=[];e.group.forEach(function(e,a){r.push(n.renderGroup(e,t,a))});var a=(0,f["default"])("btn_buy",{unable_buy:e.isAllowSubmit===!1}),o=(0,f["default"])("depot_bot",{hide:!e.promoName}),i=(0,f["default"])("J_store",{clearfix:!0,invalid:e.isDisabled}),l=(0,I.formatPrice)(e.salesTotal),c=(0,I.formatPrice)(e.promoTotal),s=(0,I.formatPrice)(e.total),d=(0,f["default"])({"checkbox-on":e.checked===!0,"checkbox-off":e.checked===!1});return u["default"].createElement("div",{className:"onlyList clearfix",key:"cart-"+t},u["default"].createElement("div",{className:i},u["default"].createElement("div",{className:"checkbox",onClick:this.toggleAllChecked.bind(this,t)},u["default"].createElement("span",{className:d})),u["default"].createElement("div",{className:"depot"},u["default"].createElement("span",null,e.warehouseName),u["default"].createElement("div",{className:o},u["default"].createElement("em",null,e.promoType),e.promoName))),r,u["default"].createElement("div",{className:"section_wrap cart_buy"},u["default"].createElement("div",{className:"cartFirst clearfix"},u["default"].createElement("span",null,"已选商品"+e.buyeds+"件"),u["default"].createElement("div",{className:"cartFirst_two"},u["default"].createElement("p",null,"商品总额： ￥"+l),u["default"].createElement("p",null,"活动优惠： -￥"+c))),u["default"].createElement("div",{className:"J_wrapperCartTop"},u["default"].createElement("p",null,"总计(不含运费、税金)：",u["default"].createElement("em",null,"￥"+s)),u["default"].createElement("p",null,u["default"].createElement("input",{type:"button",className:a,value:"结算",onClick:this.checkout.bind(this,t)}))),this.renderInfo(e)))}},{key:"renderCarts",value:function(){var e=this,t=this.props.cartByUser.carts;if(!(t&&t.length>0))return u["default"].createElement("div",{className:"empty"},u["default"].createElement("img",{src:"/client/asset/images/empty_cart.png"}),u["default"].createElement("span",null,"购物车还空着呢，快去挑选商品吧！"),u["default"].createElement("a",{href:"/",className:"empty_btn"},"挑选商品"));var n=function(){var n=[];return t.forEach(function(t,r){n.push(e.renderCart(t,r))}),{v:u["default"].createElement("div",{className:"cart"},n)}}();return"object"==typeof n?n.v:void 0}},{key:"render",value:function(){var e=this.props.cartByUser,t=(e.isUpdating,e.isFetching),n=e.alertContent,r=e.alertActive,a=e.carts,o=0;return a&&a.length>0&&a.forEach(function(e){o+=e.buyeds}),u["default"].createElement("div",{className:"container"},u["default"].createElement(h["default"],null,u["default"].createElement("span",{className:"title"},"购物车")),this.renderCarts(),u["default"].createElement(R["default"],{active:this.state.dialogActive,onCancel:this.state.dialogOnCancel,cancelText:this.state.cancelText,confirmText:this.state.confirmText,onConfrim:this.state.dialogOnConfirm},this.state.dialogMesg),u["default"].createElement(C["default"],{active:r},n),u["default"].createElement(v["default"],{activeIndex:"3",buyed:o}),u["default"].createElement(S["default"],{active:t}))}}]),t}(c.Component);t["default"]=w,e.exports=t["default"]},367:function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case l.START_UPDATE_CART:return o({},e,{isUpdating:!0,isFetching:!0,isUpdated:!1,isChecked:!1,isPassed:!1});case l.FINISH_UPDATE_CART:var n=e.carts.slice(),r=t.param,i=r.cartIndex,s=r.groupIndex,d=r.goodsIndex,f=r.buyed,p=a({},n[i]),h=a({},p.group[s].list[d]),m=!1;return t.res.isUpdated&&(m=!0,h.buyed=f,p.group[s].list[d]=h,n[i]=p),o({},e,{isUpdating:!1,isUpdated:m,isFetching:!1,singleCode:h.singleCode,cartIndex:i,groupIndex:s,goodsIndex:d,carts:n});case l.START_FETCH_CART:return o({},e,{isFetching:!0,isFetched:!1,isUpdated:!1,isToggled:!1,isAllToggled:!1,isDeleted:!1,isChecked:!1,isPassed:!1});case l.FINISH_FETCH_CART:var n=e.carts.slice(),v=t.param,i=v.cartIndex,s=v.groupIndex,d=v.goodsIndex,E=v.singleCode,g=v.singleCodes,p=t.res.cart[0],T=!1;if(t.res.isFetched){T=!0;var y=a({},n[i]);y.children>0&&(-1!=g.indexOf(E)&&p.group.forEach(function(e){e.list.forEach(function(e){if(e.singleCode===E){var t=y.group[s].list[d],n=t.cartId;y.group[s].list[d]=e,y.group[s].list[d].cartId=n}})}),y.total=p.total,y.buyeds=p.buyeds,y.promoTotal=p.promoTotal,y.salesTotal=p.salesTotal,y.collected=p.collected,y.totalTax=p.totalTax,y.checked=y.children===y.collected,y.isAllowSubmit=p.isAllowSubmit,n[i]=y)}return o({},e,{isFetching:!1,isFetched:T,carts:n});case l.START_TOGGLE_ITEM:return o({},e,{isToggleing:!0,isToggled:!1,isChecked:!1,isPassed:!1});case l.FINISH_TOGGLE_ITEM:var C=t.param,i=C.cartIndex,s=C.groupIndex,d=C.goodsIndex,R=C.checked,n=e.carts.slice(),p=a({},n[i]),h=a({},p.group[s].list[d]);return h.checked=R,R?p.collected+=1:p.collected-=1,p.group[s].list[d]=h,p.checked=p.children===p.collected,n[i]=p,o({},e,{isToggleing:!1,isToggled:!0,singleCode:h.singleCode,cartIndex:i,groupIndex:s,goodsIndex:d,carts:n});case l.START_TOGGLE_ALL:return o({},e,{isAllToggling:!0,isAllToggled:!1,isChecked:!1,isPassed:!1});case l.FINISH_TOGGLE_ALL:var A=t.param,i=A.cartIndex,R=A.checked,n=e.carts.slice(),p=a({},n[i]);return p.checked=R,_.each(p.group,function(e,t){_.each(e.list,function(e,n){e.onSale&&e.stockCount>0&&(p.group[t].list[n]=a({},e,{checked:R}))})}),n[i]=p,o({},e,{isAllToggling:!1,isAllToggled:!0,carts:n,cartIndex:i});case l.START_DELETE_CART:return o({},e,{isDeleting:!0,isDeleted:!1,isChecked:!1,isPassed:!1});case l.FINISH_DELETE_CART:var S=t.param,i=S.cartIndex,s=S.groupIndex,d=S.goodsIndex,R=S.checked,I=t.res.isDeleted,n=e.carts.slice(),p=a({},n[i]);return I&&(p.group[s].list.splice(d,1),R&&(p.collected-=1),p.children-=1,0===p.group[s].list.length&&(p.group.splice(s,1),0===p.group.length&&(n.splice(i,1),p=null)),p&&(p.checked=p.collected===p.children,n[i]=p)),o({},e,{isDeleting:!1,isDeleted:I,carts:n,cartIndex:i});case l.START_CHECK_CART:return o({},e,{isChecking:!0,isFetching:!0,isChecked:!1,isPassed:!1});case l.FINISH_CHECK_CART:var i=t.param.cartIndex,O=t.res.returnCode,n=e.carts.slice(),p=a({},n[i]),b=!1;return n[i]=p,0!==O&&-402111!==O||(b=!0),o({},e,{isChecking:!1,isFetching:!1,isChecked:!0,isPassed:b,cartIndex:i,carts:n});case l.START_RELOAD_CART:return o({},e,{isFetching:!0,isFetched:!1,isChecked:!1});case l.FINISH_RELOAD_CART:var n=e.carts.slice(),T=t.res.isFetched;return T&&(n=t.res.carts),o({},e,{isFetched:T,isFetching:!1,carts:n});case c.SHOW_ALERT:case c.HIDE_ALERT:return(0,u.alertReducer)(e,t);default:return e}}var a=n(14)["default"],o=n(8)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),l=n(182),c=n(18),u=n(38),s=(0,i.combineReducers)({cartByUser:r});t["default"]=s,e.exports=t["default"]},499:function(e,t){}});